#READ ME

The submitted tidy dataset is generated by running the R script run_analysis.R against the Human Activity Recognition Using Smartphones Dataset Version 1.0 training and test datasets. 

This READ ME describes the processing performed to achieve the tidy dataset. The variables of the tidy dataset are described more fully in Codebook.MD.

##Assumptions
The script assumes the following:

- All needed files exist in the current working directory
- The packages data.table, plyr, dplyr, and stringr are installed and loaded
- Measurements of mean and standard deviation are those variables containing the string "mean()" or "std()" anywhere in their variable names
- Longer variable names are preferred to shorter, less descriptive names
- Fewer punctuation characters in variable names are preferred, but selectively placed punctuation characters are acceptable if they help improve readability
- Uniform case is preferred for variable names, specifically lowercase

##Files
The following files from the original dataset are used:

- **activity_labels.txt** - contains the mapping of numeric activity ID to activity description
- **features.txt** - contains the full list of 561 variable names for the feature vector data contained in the test and training datasets
- **X_test.txt** and **X_train.txt** - the test and training data, respectively
- **y_test.txt** and **y_train.txt** - the test and training activity IDs, respectively
- **subject_test.txt** and **subject_train.txt** - the test and training subject IDs, respectively

##Dataset Records
Each record of the resulting tidy dataset contains:

- An identifier of the subject who carried out the experiment
- The name of the activity performed (WALKING, WALKING_UPSTAIRS, WALKING_DOWNSTAIRS, SITTING, STANDING, LAYING)
- The means for the 79 variables from the original dataset that contained 'mean()' or 'std()' in their variable names

##Processing
To derive the tidy dataset, run_analysis.R performs the processing described below.

- **READ IN FILES:** The 8 files listed above are read into individual data frames and column labels are assigned for all variables. For the activity labels and subjects, I assigned column names; for the measurement data, the column names were taken from features.txt. The test set is contained in the test_data, test_subject, and test_activity data frames, while the training set is contained in train_data, train_subject, and train_activity.

- **ADD SUBJECT AND ACTIVITY IDs:** The subject and activity data frames are bound to their respective test and training data frames. The result is a test_data data frame containing subject IDs, activity IDs, and measurement variables for all test observations and a train_data data frame containing subject IDs, activity IDs, and measurement variables for all training observations.

- **CREATE SINGLE MERGED DATASET:** The test and training datasets are bound together to form a single dataset containing all observations for all variables.

- **EXTRACT THE VARIABLES FOR MEAN AND STANDARD DEVIATION:** Using pattern matching techniques, columns containing "mean()" and "std()" in their variable names are extracted. This results in a dataset containing columns for subject, activity, and 79 mean and standard deviation measurements.

- **PROVIDE DESCRIPTIVE VARIABLE NAMES:** For all measurement variables, pattern matching and string replacement techniques are used to alter the variable names as follows:
 
	+ Remove all forms of parentheses: () and ()-
	+ Expand the t and f at the beginning of each variable to "time" and "freq", respectively
	+ Expand "std" to "stdev" for standard deviation measurements
	+ Expand abbreviations "Acc", "Gyro" and "Mag" to "acceleration", "gyroscope", and "magnitude", respectively
	+ Replace remaining dashes "-" with underscores "_"
	+ Convert entire variable name to lowercase

	This results in rather long variable names, but each is highly descriptive and precise, and each contains a minimum of special characters that might cause problems in other functions.

	For the activities, the descriptive activity label is added to the dataset and the numeric ID column removed.

- **CREATE TIDY DATASET OF MEASUREMENT MEANS** by subject and activity: The dataset is grouped by subject and activity, then the mean is calculated for each of the 79 measurement variables. Since the values in the tidy datasset are the means of the original mean and standard deviation measurements, the variable names are updated to reflect this by adding "mean_" to the beginning of each name ("mean_time..." or mean_freq...").

- **WRITE TIDY DATASET:** Finally, the tidy dataset is written out to the file "tidytable.txt". This file can be viewed by executing the following:

      	dataset <- read.table("tidytable.txt", header = TRUE)
      	View(dataset)

##Acknowledgments
The above code for reading the tidy data file was taken from David's Project FAQ (https://class.coursera.org/getdata-008/forum/thread?thread_id=24).